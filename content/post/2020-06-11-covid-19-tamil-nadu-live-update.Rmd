---
title: COVID-19, Tamil Nadu, Live Update
author: Vignesh A
date: '2020-06-11'
slug: covid-19-tamil-nadu-live-update
categories: []
tags: []
---

```{r,include=FALSE,echo=FALSE,warning=FALSE}
library(xts)
library(dygraphs)
library(plotly)
library(scales)
library(ggplot2)
library(ggrepel)
library(tidyverse)
library(leaflet)
library(dygraphs)
```

**COVID-19 affects different people in different ways. Most infected people will develop mild to moderate illness and recover without hospitalization.**

Most common symptoms:

1. fever
2. dry cough
3. tiredness
4. Less common symptoms:
5. aches and pains
6. sore throat
7. diarrhoea
8. conjunctivitis
9. headache
10. loss of taste or smell
11. a rash on skin, or discolouration of fingers or toes


For informational purposes only. Consult your local medical authority for advice.




```{r,echo=FALSE,warning=FALSE,include=FALSE}
rm(nycounties)
nycounties <- rgdal::readOGR("https://raw.githubusercontent.com/covid19india/covid19india-react/master/public/maps/tamilnadu.json")
csv <- read.csv('https://api.covid19india.org/csv/latest/district_wise.csv')
#names(csv)

dist_daily <- csv %>%
  filter(State_Code == 'TN') %>%
  select(District,Confirmed,Active,Delta_Confirmed,Delta_Recovered,Deceased)
colnames(dist_daily) <- c('district','Cases','Active','Today','Today_rec','Deceases')
nycounties <- sp::merge(nycounties,dist_daily,by = 'district')
state_daily <- read.csv('https://api.covid19india.org/csv/latest/state_wise_daily.csv')
#head(state_daily)

#View(state_daily)
state_daily <- state_daily[,c(1,2,35)]
#names(state_daily)
state_daily$Date <- as.character(state_daily$Date)
state_daily$Date <- as.Date(state_daily$Date, '%d-%b-%y')

bins1 <- c(0, 50, 100, 500, 1000, 10000,20000,30000,Inf)
pal1 <- colorBin("Reds",domain = nycounties$Cases,bins = bins1)
labels <- sprintf(
  '<strong>%s</strong><br/>
  <b>Total Cases</b>:<b style="color:#F70D1A">%g</b><br/>
  <b>Today:</b> <b style="color:#F70D1A">+ %g </b><br/>
  <b>Active :</b> <b style="color:#F70D1A">%g</b><br/>
  <b>Death :</b> <b style="color:#F70D1A">%g</b> ',
  nycounties$district, nycounties$Cases, nycounties$Today,nycounties$Active,nycounties$Deceases
) %>% 
  lapply(htmltools::HTML)



```

## **COVID-19 TAMIL NADU** 
(last update : `r Sys.time()`)

## Total Number of cases : **`r csv %>% filter(State_Code == 'TN') %>% summarise(sum(Confirmed)) `**
### Today increase : **+`r dist_daily %>% summarise(sum(Today))`**


## TOTAL NUMBER OF DECEASED : **`r state_daily %>%filter(Status == 'Deceased') %>%summarise(sum(TN))`**
### Today Deseased : **+`r tail(state_daily %>%filter(Status == 'Deceased') %>% select(TN),1)`**

## Active Cases in TN: **`r csv %>% filter(State_Code == 'TN') %>% summarise(sum(Active))`**

## Number of People Recovered : **`r state_daily %>%filter(Status == 'Recovered') %>%summarise(sum(TN))` **
### Today Recovered : **+`r tail(state_daily %>%filter(Status == 'Recovered') %>% select(TN),1)`**

### Total Number of cases in Tamil Nadu - DISTRICT WISE

```{r,echo=FALSE,warning=FALSE,fig.width=12,fig.height=6.5,out.width='100%'}

#india[,"Confirmed"] 
leaflet(nycounties) %>%
  setView(lng = 78.63, lat = 11.12, zoom = 7) %>%
  addPolygons(stroke = TRUE, 
              weight = 2,
              smoothFactor = 0.3, fillOpacity = 2,
              fillColor = ~pal1(Cases),
              color = "black ", opacity = 10,
              label = labels,
              highlight = highlightOptions(weight = 2,
                                           color = "white",
                                           fillOpacity = 0.3,
                                           bringToFront = TRUE),
              labelOptions = labelOptions(noHide = F, textsize='15px'))

```

```{r,echo=FALSE,warning=FALSE,fig.width=12,fig.height=6.5,out.width='100%'}
cnf <- state_daily %>% 
  filter(Status == "Confirmed") %>%
  select(Date,TN)
names(cnf)[2] <- 'Confirmed'
rec <- state_daily %>% 
  filter(Status == "Recovered") %>%
  select(Date,TN)
names(rec)[2] <- 'Recovered'
dec <- state_daily %>% 
  filter(Status == "Deceased" ) %>%
  select(Date,TN)
names(dec)[2] <- 'Deceased'
tncrd <- cbind(cnf,rec,dec)
#names(tncrd)
#View(tncrd)
tncrd <- tncrd[,c(1,2,4,6)]
dygraph(xts(x = tncrd[,-1],order.by = tncrd$Date),
        main = "Confirmed , Recovered and Deceased Count Day-Wise",
        ylab = "Number of cases / Day",
        xlab = 'Date') %>%
  dySeries("Confirmed",drawPoints = TRUE,pointSize = 3, label = "Confirmed",color = 'red') %>%
  dySeries("Recovered",drawPoints = TRUE,pointSize = 3, label = "Recovered",color = 'green') %>%
  dySeries("Deceased",drawPoints = TRUE,pointSize = 3, label = "Deceased") %>%
  dyOptions(stackedGraph = T) %>%
  dyRangeSelector(height = 40)


```
* Adjust the date slider for data between particular dates *


```{r,echo=FALSE,warning=FALSE,fig.width=12,fig.height=6.5,out.width='100%'}
cumsum_tncrd <- tncrd %>%
  mutate(TotalC = cumsum(Confirmed),TotalR = cumsum(Recovered),
         TotalD = cumsum(Deceased)) %>%
  select(Date,TotalC,TotalR,TotalD)

dygraph(xts(x = cumsum_tncrd[,-1],order.by = cumsum_tncrd$Date),
        main = "Confirmed , Recovered and Deceased Count",
        ylab = "Number of cases",
        xlab = 'Date') %>%
  dySeries("TotalC",drawPoints = TRUE,pointSize = 3, label = "Confirmed",color = 'red') %>%
  dySeries("TotalR",drawPoints = TRUE,pointSize = 3, label = "Recovered",color = 'green') %>%
  dySeries("TotalD",drawPoints = TRUE,pointSize = 3, label = "Deceased") %>%
  dyOptions(stackedGraph = TRUE) %>%
  dyRangeSelector(height = 40)
```
* Adjust the date slider for data between particular dates *

